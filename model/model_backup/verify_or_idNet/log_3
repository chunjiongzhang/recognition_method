opt = Namespace(PCB=False, alpha=1.0, batchsize=48, color_jitter=False, data_dir='data/market/pytorch', erasing_p=0.5, gpu_ids='0', lr=0.1, name='sggnn', net_loss_model=2, save_model_name='3', train_all=True, use_dense=True)
net_loss_model = 2
save_model_name = 3
[Resize(size=(256, 128), interpolation=PIL.Image.BICUBIC), Pad(padding=10, fill=0, padding_mode=constant), RandomCrop(size=(256, 128), padding=0), RandomHorizontalFlip(p=0.5), ToTensor(), Normalize(mean=[0.485, 0.456, 0.406], std=[0.229, 0.224, 0.225]), <random_erasing.RandomErasing object at 0x7f1392813048>]
7.152557373046875e-07
model_siamese structure
Epoch 0/99
----------
train Loss_id: 0.1405 Loss_verif: 0.0144  Acc_id: 0.3651 Verif_Acc: 0.5022 
Epoch 1/99
----------
train Loss_id: 0.0432 Loss_verif: 0.0144  Acc_id: 0.7322 Verif_Acc: 0.5082 
Epoch 2/99
----------
train Loss_id: 0.0256 Loss_verif: 0.0144  Acc_id: 0.8364 Verif_Acc: 0.5013 
Epoch 3/99
----------
train Loss_id: 0.0192 Loss_verif: 0.0144  Acc_id: 0.8752 Verif_Acc: 0.4975 
Epoch 4/99
----------
train Loss_id: 0.0149 Loss_verif: 0.0144  Acc_id: 0.9045 Verif_Acc: 0.5001 
Epoch 5/99
----------
train Loss_id: 0.0125 Loss_verif: 0.0144  Acc_id: 0.9166 Verif_Acc: 0.4950 
Epoch 6/99
----------
train Loss_id: 0.0117 Loss_verif: 0.0144  Acc_id: 0.9232 Verif_Acc: 0.5053 
Epoch 7/99
----------
train Loss_id: 0.0096 Loss_verif: 0.0144  Acc_id: 0.9365 Verif_Acc: 0.5031 
Epoch 8/99
----------
train Loss_id: 0.0094 Loss_verif: 0.0144  Acc_id: 0.9383 Verif_Acc: 0.4971 
Epoch 9/99
----------
train Loss_id: 0.0086 Loss_verif: 0.0144  Acc_id: 0.9453 Verif_Acc: 0.5004 
Epoch 10/99
----------
train Loss_id: 0.0087 Loss_verif: 0.0144  Acc_id: 0.9421 Verif_Acc: 0.4960 
Epoch 11/99
----------
train Loss_id: 0.0084 Loss_verif: 0.0144  Acc_id: 0.9468 Verif_Acc: 0.5022 
Epoch 12/99
----------
train Loss_id: 0.0073 Loss_verif: 0.0144  Acc_id: 0.9530 Verif_Acc: 0.4986 
Epoch 13/99
----------
train Loss_id: 0.0070 Loss_verif: 0.0144  Acc_id: 0.9548 Verif_Acc: 0.5014 
Epoch 14/99
----------
train Loss_id: 0.0074 Loss_verif: 0.0144  Acc_id: 0.9519 Verif_Acc: 0.4978 
Epoch 15/99
----------
train Loss_id: 0.0077 Loss_verif: 0.0144  Acc_id: 0.9510 Verif_Acc: 0.4958 
Epoch 16/99
----------
train Loss_id: 0.0069 Loss_verif: 0.0144  Acc_id: 0.9569 Verif_Acc: 0.4968 
Epoch 17/99
----------
train Loss_id: 0.0067 Loss_verif: 0.0144  Acc_id: 0.9578 Verif_Acc: 0.5050 
Epoch 18/99
----------
train Loss_id: 0.0058 Loss_verif: 0.0144  Acc_id: 0.9636 Verif_Acc: 0.4975 
Epoch 19/99
----------
train Loss_id: 0.0058 Loss_verif: 0.0144  Acc_id: 0.9633 Verif_Acc: 0.4995 
Epoch 20/99
----------
train Loss_id: 0.0061 Loss_verif: 0.0144  Acc_id: 0.9619 Verif_Acc: 0.4954 
Epoch 21/99
----------
train Loss_id: 0.0061 Loss_verif: 0.0144  Acc_id: 0.9632 Verif_Acc: 0.5023 
Epoch 22/99
----------
train Loss_id: 0.0057 Loss_verif: 0.0144  Acc_id: 0.9649 Verif_Acc: 0.5041 
Epoch 23/99
----------
train Loss_id: 0.0056 Loss_verif: 0.0144  Acc_id: 0.9661 Verif_Acc: 0.5033 
Epoch 24/99
----------
train Loss_id: 0.0049 Loss_verif: 0.0144  Acc_id: 0.9704 Verif_Acc: 0.4996 
Epoch 25/99
----------
train Loss_id: 0.0049 Loss_verif: 0.0144  Acc_id: 0.9700 Verif_Acc: 0.5043 
Epoch 26/99
----------
train Loss_id: 0.0061 Loss_verif: 0.0144  Acc_id: 0.9620 Verif_Acc: 0.4940 
Epoch 27/99
----------
train Loss_id: 0.0056 Loss_verif: 0.0144  Acc_id: 0.9660 Verif_Acc: 0.4952 
Epoch 28/99
----------
train Loss_id: 0.0050 Loss_verif: 0.0144  Acc_id: 0.9689 Verif_Acc: 0.5028 
Epoch 29/99
----------
train Loss_id: 0.0048 Loss_verif: 0.0144  Acc_id: 0.9708 Verif_Acc: 0.5013 
Epoch 30/99
----------
train Loss_id: 0.0025 Loss_verif: 0.0144  Acc_id: 0.9861 Verif_Acc: 0.5021 
Epoch 31/99
----------
train Loss_id: 0.0016 Loss_verif: 0.0144  Acc_id: 0.9919 Verif_Acc: 0.4950 
Epoch 32/99
----------
train Loss_id: 0.0013 Loss_verif: 0.0144  Acc_id: 0.9937 Verif_Acc: 0.5018 
Epoch 33/99
----------
train Loss_id: 0.0012 Loss_verif: 0.0144  Acc_id: 0.9948 Verif_Acc: 0.5027 
Epoch 34/99
----------
train Loss_id: 0.0011 Loss_verif: 0.0144  Acc_id: 0.9954 Verif_Acc: 0.4961 
Epoch 35/99
----------
train Loss_id: 0.0011 Loss_verif: 0.0144  Acc_id: 0.9952 Verif_Acc: 0.4911 
Epoch 36/99
----------
train Loss_id: 0.0010 Loss_verif: 0.0144  Acc_id: 0.9960 Verif_Acc: 0.4982 
Epoch 37/99
----------
train Loss_id: 0.0010 Loss_verif: 0.0144  Acc_id: 0.9957 Verif_Acc: 0.4919 
Epoch 38/99
----------
train Loss_id: 0.0010 Loss_verif: 0.0144  Acc_id: 0.9962 Verif_Acc: 0.4946 
Epoch 39/99
----------
train Loss_id: 0.0009 Loss_verif: 0.0144  Acc_id: 0.9971 Verif_Acc: 0.5006 
Epoch 40/99
----------
train Loss_id: 0.0010 Loss_verif: 0.0144  Acc_id: 0.9966 Verif_Acc: 0.5002 
Epoch 41/99
----------
train Loss_id: 0.0009 Loss_verif: 0.0144  Acc_id: 0.9970 Verif_Acc: 0.4929 
Epoch 42/99
----------
train Loss_id: 0.0010 Loss_verif: 0.0144  Acc_id: 0.9964 Verif_Acc: 0.5018 
Epoch 43/99
----------
train Loss_id: 0.0009 Loss_verif: 0.0144  Acc_id: 0.9975 Verif_Acc: 0.4919 
Epoch 44/99
----------
train Loss_id: 0.0010 Loss_verif: 0.0144  Acc_id: 0.9966 Verif_Acc: 0.4992 
Epoch 45/99
----------
train Loss_id: 0.0009 Loss_verif: 0.0144  Acc_id: 0.9978 Verif_Acc: 0.4899 
Epoch 46/99
----------
train Loss_id: 0.0009 Loss_verif: 0.0144  Acc_id: 0.9974 Verif_Acc: 0.4983 
Epoch 47/99
----------
train Loss_id: 0.0009 Loss_verif: 0.0144  Acc_id: 0.9976 Verif_Acc: 0.5034 
Epoch 48/99
----------
train Loss_id: 0.0009 Loss_verif: 0.0144  Acc_id: 0.9978 Verif_Acc: 0.4902 
Epoch 49/99
----------
train Loss_id: 0.0009 Loss_verif: 0.0144  Acc_id: 0.9978 Verif_Acc: 0.4950 
Epoch 50/99
----------
train Loss_id: 0.0009 Loss_verif: 0.0144  Acc_id: 0.9975 Verif_Acc: 0.4967 
Epoch 51/99
----------
train Loss_id: 0.0009 Loss_verif: 0.0144  Acc_id: 0.9979 Verif_Acc: 0.4908 
Epoch 52/99
----------
train Loss_id: 0.0009 Loss_verif: 0.0144  Acc_id: 0.9981 Verif_Acc: 0.4930 
Epoch 53/99
----------
train Loss_id: 0.0009 Loss_verif: 0.0144  Acc_id: 0.9984 Verif_Acc: 0.5014 
Epoch 54/99
----------
train Loss_id: 0.0009 Loss_verif: 0.0144  Acc_id: 0.9978 Verif_Acc: 0.4936 
Epoch 55/99
----------
train Loss_id: 0.0009 Loss_verif: 0.0144  Acc_id: 0.9981 Verif_Acc: 0.4998 
Epoch 56/99
----------
train Loss_id: 0.0009 Loss_verif: 0.0144  Acc_id: 0.9979 Verif_Acc: 0.4934 
Epoch 57/99
----------
train Loss_id: 0.0009 Loss_verif: 0.0144  Acc_id: 0.9981 Verif_Acc: 0.4950 
Epoch 58/99
----------
train Loss_id: 0.0009 Loss_verif: 0.0144  Acc_id: 0.9985 Verif_Acc: 0.5044 
Epoch 59/99
----------
train Loss_id: 0.0009 Loss_verif: 0.0144  Acc_id: 0.9983 Verif_Acc: 0.4970 
Epoch 60/99
----------
train Loss_id: 0.0009 Loss_verif: 0.0144  Acc_id: 0.9986 Verif_Acc: 0.4995 
Epoch 61/99
----------
train Loss_id: 0.0009 Loss_verif: 0.0144  Acc_id: 0.9979 Verif_Acc: 0.4936 
Epoch 62/99
----------
train Loss_id: 0.0008 Loss_verif: 0.0144  Acc_id: 0.9986 Verif_Acc: 0.4966 
Epoch 63/99
----------
train Loss_id: 0.0009 Loss_verif: 0.0144  Acc_id: 0.9983 Verif_Acc: 0.5017 
Epoch 64/99
----------
train Loss_id: 0.0008 Loss_verif: 0.0144  Acc_id: 0.9988 Verif_Acc: 0.4879 
Epoch 65/99
----------
train Loss_id: 0.0009 Loss_verif: 0.0144  Acc_id: 0.9982 Verif_Acc: 0.5004 
Epoch 66/99
----------
train Loss_id: 0.0008 Loss_verif: 0.0144  Acc_id: 0.9984 Verif_Acc: 0.4943 
Epoch 67/99
----------
train Loss_id: 0.0009 Loss_verif: 0.0144  Acc_id: 0.9982 Verif_Acc: 0.4932 
Epoch 68/99
----------
train Loss_id: 0.0009 Loss_verif: 0.0144  Acc_id: 0.9978 Verif_Acc: 0.4985 
Epoch 69/99
----------
train Loss_id: 0.0009 Loss_verif: 0.0144  Acc_id: 0.9981 Verif_Acc: 0.4920 
Epoch 70/99
----------
train Loss_id: 0.0009 Loss_verif: 0.0144  Acc_id: 0.9982 Verif_Acc: 0.4981 
Epoch 71/99
----------
train Loss_id: 0.0008 Loss_verif: 0.0144  Acc_id: 0.9989 Verif_Acc: 0.4971 
Epoch 72/99
----------
train Loss_id: 0.0008 Loss_verif: 0.0144  Acc_id: 0.9983 Verif_Acc: 0.4933 
Epoch 73/99
----------
train Loss_id: 0.0008 Loss_verif: 0.0144  Acc_id: 0.9986 Verif_Acc: 0.4967 
Epoch 74/99
----------
train Loss_id: 0.0008 Loss_verif: 0.0144  Acc_id: 0.9987 Verif_Acc: 0.4955 
Epoch 75/99
----------
train Loss_id: 0.0009 Loss_verif: 0.0144  Acc_id: 0.9985 Verif_Acc: 0.4942 
Epoch 76/99
----------
train Loss_id: 0.0009 Loss_verif: 0.0144  Acc_id: 0.9984 Verif_Acc: 0.4967 
Epoch 77/99
----------
train Loss_id: 0.0008 Loss_verif: 0.0144  Acc_id: 0.9988 Verif_Acc: 0.4973 
Epoch 78/99
----------
train Loss_id: 0.0009 Loss_verif: 0.0144  Acc_id: 0.9986 Verif_Acc: 0.4965 
Epoch 79/99
----------
train Loss_id: 0.0009 Loss_verif: 0.0144  Acc_id: 0.9981 Verif_Acc: 0.4911 
Epoch 80/99
----------
train Loss_id: 0.0008 Loss_verif: 0.0144  Acc_id: 0.9988 Verif_Acc: 0.5014 
Epoch 81/99
----------
train Loss_id: 0.0009 Loss_verif: 0.0144  Acc_id: 0.9976 Verif_Acc: 0.4915 
Epoch 82/99
----------
train Loss_id: 0.0009 Loss_verif: 0.0144  Acc_id: 0.9986 Verif_Acc: 0.4943 
Epoch 83/99
----------
train Loss_id: 0.0009 Loss_verif: 0.0144  Acc_id: 0.9982 Verif_Acc: 0.4889 
Epoch 84/99
----------
train Loss_id: 0.0008 Loss_verif: 0.0144  Acc_id: 0.9983 Verif_Acc: 0.4973 
Epoch 85/99
----------
train Loss_id: 0.0009 Loss_verif: 0.0144  Acc_id: 0.9984 Verif_Acc: 0.5043 
Epoch 86/99
----------
train Loss_id: 0.0009 Loss_verif: 0.0144  Acc_id: 0.9986 Verif_Acc: 0.4982 
Epoch 87/99
----------
train Loss_id: 0.0009 Loss_verif: 0.0144  Acc_id: 0.9984 Verif_Acc: 0.5018 
Epoch 88/99
----------
train Loss_id: 0.0009 Loss_verif: 0.0144  Acc_id: 0.9982 Verif_Acc: 0.5005 
Epoch 89/99
----------
train Loss_id: 0.0008 Loss_verif: 0.0144  Acc_id: 0.9988 Verif_Acc: 0.4946 
Epoch 90/99
----------
train Loss_id: 0.0009 Loss_verif: 0.0144  Acc_id: 0.9984 Verif_Acc: 0.4878 
Epoch 91/99
----------
train Loss_id: 0.0008 Loss_verif: 0.0144  Acc_id: 0.9986 Verif_Acc: 0.4950 
Epoch 92/99
----------
train Loss_id: 0.0008 Loss_verif: 0.0144  Acc_id: 0.9985 Verif_Acc: 0.4959 
Epoch 93/99
----------
train Loss_id: 0.0008 Loss_verif: 0.0144  Acc_id: 0.9986 Verif_Acc: 0.4987 
Epoch 94/99
----------
train Loss_id: 0.0009 Loss_verif: 0.0144  Acc_id: 0.9984 Verif_Acc: 0.5040 
Epoch 95/99
----------
train Loss_id: 0.0008 Loss_verif: 0.0144  Acc_id: 0.9987 Verif_Acc: 0.4958 
Epoch 96/99
----------
train Loss_id: 0.0008 Loss_verif: 0.0144  Acc_id: 0.9988 Verif_Acc: 0.4914 
Epoch 97/99
----------
train Loss_id: 0.0009 Loss_verif: 0.0144  Acc_id: 0.9980 Verif_Acc: 0.4918 
Epoch 98/99
----------
train Loss_id: 0.0009 Loss_verif: 0.0144  Acc_id: 0.9982 Verif_Acc: 0.4967 
Epoch 99/99
----------
train Loss_id: 0.0008 Loss_verif: 0.0144  Acc_id: 0.9983 Verif_Acc: 0.5004 
best_epoch = 58     best_loss = 0.007653853441973747     best_acc = 0.7514714993804212
Training complete in 153m 30s
This is not an error. If you want to use low precision, i.e., fp16, please install the apex with cuda support (https://github.com/NVIDIA/apex) and update pytorch to 1.0
opt = Namespace(PCB=False, batchsize=48, fp16=False, gpu_ids='0', name='sggnn', test_dir='data/market/pytorch', use_dense=True, which_epoch='best_siamese')
opt.gpu_ids = 0
opt.which_epoch = best_siamese
opt.test_dir = data/market/pytorch
opt.name = sggnn
opt.batchsize = 48
opt.use_dense = True
opt.PCB = False
opt.fp16 = False
-------test-----------
load easy pretrained model: ./model/sggnn/net_best_siamese.pth
torch.Size([3368, 512])
i =    0    CMC_tmp[0] = 1  real-time rank1 = 1.0000  avg rank1 = 1.0000
i =  100    CMC_tmp[0] = 0  real-time rank1 = 0.7822  avg rank1 = 0.7921
i =  200    CMC_tmp[0] = 1  real-time rank1 = 0.7525  avg rank1 = 0.7761
i =  300    CMC_tmp[0] = 1  real-time rank1 = 0.7921  avg rank1 = 0.7841
i =  400    CMC_tmp[0] = 1  real-time rank1 = 0.7723  avg rank1 = 0.7830
i =  500    CMC_tmp[0] = 0  real-time rank1 = 0.9406  avg rank1 = 0.8164
i =  600    CMC_tmp[0] = 1  real-time rank1 = 0.9010  avg rank1 = 0.8319
i =  700    CMC_tmp[0] = 1  real-time rank1 = 0.9406  avg rank1 = 0.8488
i =  800    CMC_tmp[0] = 1  real-time rank1 = 0.9010  avg rank1 = 0.8564
i =  900    CMC_tmp[0] = 0  real-time rank1 = 0.9406  avg rank1 = 0.8668
i = 1000    CMC_tmp[0] = 1  real-time rank1 = 0.8614  avg rank1 = 0.8671
i = 1100    CMC_tmp[0] = 1  real-time rank1 = 0.9208  avg rank1 = 0.8728
i = 1200    CMC_tmp[0] = 0  real-time rank1 = 0.8911  avg rank1 = 0.8751
i = 1300    CMC_tmp[0] = 1  real-time rank1 = 0.9307  avg rank1 = 0.8801
i = 1400    CMC_tmp[0] = 1  real-time rank1 = 0.9010  avg rank1 = 0.8822
i = 1500    CMC_tmp[0] = 1  real-time rank1 = 0.9406  avg rank1 = 0.8867
i = 1600    CMC_tmp[0] = 1  real-time rank1 = 0.8614  avg rank1 = 0.8857
i = 1700    CMC_tmp[0] = 1  real-time rank1 = 0.9505  avg rank1 = 0.8901
i = 1800    CMC_tmp[0] = 1  real-time rank1 = 0.9109  avg rank1 = 0.8917
i = 1900    CMC_tmp[0] = 1  real-time rank1 = 0.8317  avg rank1 = 0.8890
i = 2000    CMC_tmp[0] = 1  real-time rank1 = 0.9703  avg rank1 = 0.8936
i = 2100    CMC_tmp[0] = 1  real-time rank1 = 0.9505  avg rank1 = 0.8967
i = 2200    CMC_tmp[0] = 1  real-time rank1 = 0.8713  avg rank1 = 0.8960
i = 2300    CMC_tmp[0] = 1  real-time rank1 = 0.8614  avg rank1 = 0.8948
i = 2400    CMC_tmp[0] = 1  real-time rank1 = 0.9010  avg rank1 = 0.8955
i = 2500    CMC_tmp[0] = 1  real-time rank1 = 0.9109  avg rank1 = 0.8964
i = 2600    CMC_tmp[0] = 1  real-time rank1 = 0.9307  avg rank1 = 0.8981
i = 2700    CMC_tmp[0] = 1  real-time rank1 = 0.8812  avg rank1 = 0.8978
i = 2800    CMC_tmp[0] = 0  real-time rank1 = 0.9307  avg rank1 = 0.8993
i = 2900    CMC_tmp[0] = 1  real-time rank1 = 0.9802  avg rank1 = 0.9024
i = 3000    CMC_tmp[0] = 1  real-time rank1 = 0.9604  avg rank1 = 0.9047
i = 3100    CMC_tmp[0] = 1  real-time rank1 = 0.9505  avg rank1 = 0.9065
i = 3200    CMC_tmp[0] = 0  real-time rank1 = 0.9307  avg rank1 = 0.9075
i = 3300    CMC_tmp[0] = 1  real-time rank1 = 0.9406  avg rank1 = 0.9088
i = 3367    CMC_tmp[0] = 1  real-time rank1 = 0.9265  avg rank1 = 0.9094
Rank@1:0.909442 Rank@5:0.970309 Rank@10:0.982185 mAP:0.767762
calculate initial distance
Reranking complete in 1m 9s
top1:0.929929 top5:0.964964 top10:0.974169 mAP:0.903923
This is not an error. If you want to use low precision, i.e., fp16, please install the apex with cuda support (https://github.com/NVIDIA/apex) and update pytorch to 1.0
opt = Namespace(PCB=False, batchsize=48, fp16=False, gpu_ids='0', name='sggnn', test_dir='data/market/pytorch', use_dense=True, which_epoch='last_siamese')
opt.gpu_ids = 0
opt.which_epoch = last_siamese
opt.test_dir = data/market/pytorch
opt.name = sggnn
opt.batchsize = 48
opt.use_dense = True
opt.PCB = False
opt.fp16 = False
-------test-----------
load easy pretrained model: ./model/sggnn/net_last_siamese.pth
torch.Size([3368, 512])
i =    0    CMC_tmp[0] = 1  real-time rank1 = 1.0000  avg rank1 = 1.0000
i =  100    CMC_tmp[0] = 0  real-time rank1 = 0.7822  avg rank1 = 0.7921
i =  200    CMC_tmp[0] = 1  real-time rank1 = 0.7525  avg rank1 = 0.7761
i =  300    CMC_tmp[0] = 1  real-time rank1 = 0.7921  avg rank1 = 0.7841
i =  400    CMC_tmp[0] = 1  real-time rank1 = 0.7723  avg rank1 = 0.7830
i =  500    CMC_tmp[0] = 0  real-time rank1 = 0.9406  avg rank1 = 0.8164
i =  600    CMC_tmp[0] = 1  real-time rank1 = 0.9010  avg rank1 = 0.8319
i =  700    CMC_tmp[0] = 1  real-time rank1 = 0.9406  avg rank1 = 0.8488
i =  800    CMC_tmp[0] = 1  real-time rank1 = 0.9010  avg rank1 = 0.8564
i =  900    CMC_tmp[0] = 0  real-time rank1 = 0.9406  avg rank1 = 0.8668
i = 1000    CMC_tmp[0] = 1  real-time rank1 = 0.8614  avg rank1 = 0.8671
i = 1100    CMC_tmp[0] = 1  real-time rank1 = 0.9208  avg rank1 = 0.8728
i = 1200    CMC_tmp[0] = 0  real-time rank1 = 0.8911  avg rank1 = 0.8751
i = 1300    CMC_tmp[0] = 1  real-time rank1 = 0.9307  avg rank1 = 0.8801
i = 1400    CMC_tmp[0] = 1  real-time rank1 = 0.9010  avg rank1 = 0.8822
i = 1500    CMC_tmp[0] = 1  real-time rank1 = 0.9406  avg rank1 = 0.8867
i = 1600    CMC_tmp[0] = 1  real-time rank1 = 0.8614  avg rank1 = 0.8857
i = 1700    CMC_tmp[0] = 1  real-time rank1 = 0.9505  avg rank1 = 0.8901
i = 1800    CMC_tmp[0] = 1  real-time rank1 = 0.9109  avg rank1 = 0.8917
i = 1900    CMC_tmp[0] = 1  real-time rank1 = 0.8317  avg rank1 = 0.8890
i = 2000    CMC_tmp[0] = 1  real-time rank1 = 0.9703  avg rank1 = 0.8936
i = 2100    CMC_tmp[0] = 1  real-time rank1 = 0.9505  avg rank1 = 0.8967
i = 2200    CMC_tmp[0] = 1  real-time rank1 = 0.8713  avg rank1 = 0.8960
i = 2300    CMC_tmp[0] = 1  real-time rank1 = 0.8614  avg rank1 = 0.8948
i = 2400    CMC_tmp[0] = 1  real-time rank1 = 0.9010  avg rank1 = 0.8955
i = 2500    CMC_tmp[0] = 1  real-time rank1 = 0.9109  avg rank1 = 0.8964
i = 2600    CMC_tmp[0] = 1  real-time rank1 = 0.9307  avg rank1 = 0.8981
i = 2700    CMC_tmp[0] = 1  real-time rank1 = 0.8812  avg rank1 = 0.8978
i = 2800    CMC_tmp[0] = 0  real-time rank1 = 0.9307  avg rank1 = 0.8993
i = 2900    CMC_tmp[0] = 1  real-time rank1 = 0.9802  avg rank1 = 0.9024
i = 3000    CMC_tmp[0] = 1  real-time rank1 = 0.9604  avg rank1 = 0.9047
i = 3100    CMC_tmp[0] = 1  real-time rank1 = 0.9505  avg rank1 = 0.9065
i = 3200    CMC_tmp[0] = 0  real-time rank1 = 0.9307  avg rank1 = 0.9075
i = 3300    CMC_tmp[0] = 1  real-time rank1 = 0.9406  avg rank1 = 0.9088
i = 3367    CMC_tmp[0] = 1  real-time rank1 = 0.9265  avg rank1 = 0.9094
Rank@1:0.909442 Rank@5:0.970309 Rank@10:0.982185 mAP:0.767762
calculate initial distance
Reranking complete in 1m 16s
top1:0.929929 top5:0.964964 top10:0.974169 mAP:0.903923
